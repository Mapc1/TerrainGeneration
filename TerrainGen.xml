<?xml version="1.0" encoding="UTF-8"?>
<project name="Terrain Generation VTR 24" width="1280" height="720">
  <assets>
    <scenes>
      <scene name="Skybox">
        <geometry name="Skybox" type="BOX" material="Skybox">
          <SCALE x="1000" y="1000" z="1000"/>
        </geometry>
      </scene>


      <scene name="Plane">
        <geometry name="plane" type="GRID" material="Plane" LENGTH="1024" DIVISIONS="1024"/>
      </scene>
    </scenes>

    <viewports>
      <viewport name="MainViewport">
        <CLEAR_COLOR r="0.0" g="0.0" b="0.0"/>
      </viewport>
    </viewports>

    <cameras>
      <camera name="MainCamera">
        <viewport name="MainViewport"/>
        <POSITION x="0.402" y="0.974" z="1.341" />
        <LOOK_AT_POINT x="0" y="0" z="0" />
        <NEAR value="0.01" />
      </camera>
    </cameras>

    <lights>
      <light name="Sun">
        <DIRECTION x="0.2" y="0.0" z="0.0"/>
        <COLOR r="1.0" g="1.0" b="1.0"/>
      </light>
    </lights>

    <materialLibs>
      <materialLib filename="TerrainGen.mlib"/>
    </materialLibs>
  </assets>

  <pipelines default="TerrainGen">
    <pipeline name="TerrainGen" defaultCamera="MainCamera">
      <pass class="compute" name="GenNoise">
        <material name="GenNoise" fromLibrary="TerrainGen" dimX="1024" dimY="1024" dimZ="1"/>
      </pass>

      <pass name="Render">
        <scenes>
          <scene name="Plane"/>
          <scene name="Skybox"/>
        </scenes>
        <lights>
          <light name="Sun"/>
        </lights>
        <camera name="MainCamera"/>

        <injectionMaps>
          <map toMaterial="*">
            <shader fromMaterial="Terrain" fromLibrary="TerrainGen"/>
            <textures>
              <texture name="DisplacementMap" fromLibrary="TerrainGen" toUnit="0">
                <MIN_FILTER value="LINEAR"/>
                <MAG_FILTER value="LINEAR"/>
              </texture>
            </textures>
          </map>
        </injectionMaps>
        <materialMaps>
          <map fromMaterial="Plane" toLibrary="TerrainGen" toMaterial="Terrain"/>
          <map fromMaterial="Skybox" toLibrary="TerrainGen" toMaterial="Skybox"/>
        </materialMaps>
      </pass>
    </pipeline>

  </pipelines>
</project>